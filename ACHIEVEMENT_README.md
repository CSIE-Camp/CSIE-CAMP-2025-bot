# 成就系統說明

## 概述
成就系統是一個獎勵用戶參與各種活動的功能，當用戶完成特定條件時會自動獲得成就和相應的獎勵。

## 功能特色
- 🎰 自動檢測並授予成就
- 💰 成就獎勵金幣系統
- 🏆 美觀的成就展示介面
- 🔄 向後相容現有用戶資料

## 目前可獲得的成就

### 拉霸相關成就
- **🎰 拉霸大獎**: 在拉霸遊戲中中了五個相同符號 (獎勵: 500元)
- **🎯 拉霸高手**: 在拉霸遊戲中中了四個相同符號 (獎勵: 100元)

### 簽到相關成就
- **🍀 幸運連擊**: 連續簽到7天 (獎勵: 200元)

### 財富相關成就
- **💰 小富豪**: 擁有超過10000元 (獎勵: 1000元)

## 用戶指令

### `?成就` 或 `?achievements`
顯示自己的成就狀態，包括：
- 已獲得的成就
- 總獎勵金額
- 部分未獲得的成就（作為提示）

可以使用 `?成就 @用戶` 來查看其他用戶的成就。

### `?成就列表` 或 `?all_achievements`
顯示所有可獲得的成就列表。

## 管理員指令

### `?測試成就 <成就ID>` 或 `?test_achievement <成就ID>`
測試成就系統，手動授予指定成就（僅管理員可用）。

可用的成就ID:
- `slot_jackpot` - 拉霸大獎
- `slot_master` - 拉霸高手
- `lucky_streak` - 幸運連擊
- `rich_player` - 小富豪

## 技術實現

### 檔案結構
```
src/utils/achievements.py - 成就系統核心邏輯
src/cogs/achievements.py - 成就相關指令
```

### 資料結構
用戶資料中新增了 `achievements` 欄位，存儲已獲得的成就ID列表。

### 整合點
- 拉霸遊戲 (`slot.py`) - 檢查拉霸相關成就
- 簽到系統 (`sign_in.py`) - 檢查簽到和金錢相關成就

## 擴展成就

要添加新成就，請在 `achievements.py` 的 `ACHIEVEMENTS` 字典中添加新的成就定義：

```python
"new_achievement_id": Achievement(
    id="new_achievement_id",
    name="成就名稱",
    description="成就描述",
    icon="🆕",
    reward_money=100
)
```

然後在適當的地方調用 `achievement_manager.check_and_award_achievement()` 來檢查並授予成就。

## 注意事項
- 成就只能獲得一次
- 成就獎勵會自動加入用戶的金幣餘額
- 系統會自動處理舊用戶資料的向後相容性
- 成就獲得時會發送美觀的嵌入式訊息通知
