# 🐾 虛擬寵物養成系統

## 功能概述

這是一個完整的虛擬寵物養成系統，讓用戶可以在 Discord 中認養和培養虛擬寵物，增進互動體驗。

### 🌟 特色功能
- **🎨 AI 頭像生成**: 使用 Hugging Face AI 為每隻寵物生成獨特的真實頭像
- **🤖 AI 驅動個性**: 使用 Google Gemini AI 生成深度個性化的寵物特徵
- **💬 智能對話系統**: 所有寵物回應都由 AI 實時生成，符合個性特徵
- **🎭 個性化行為**: 每種行為都有符合寵物個性的獨特描述
- **Webhook 互動**: 寵物以自己的名稱和 AI 生成的頭像發送訊息，彷彿真實存在
- **🏠 專屬討論串**: 每隻寵物都有自己的小窩，私密互動空間
- **🌟 炫耀系統**: 在公共頻道展示你和寵物的感情
- **🏆 成就系統**: 解鎖寵物相關成就，包括 AI 頭像生成成就
- **自主行為**: 寵物會定時主動與主人互動
- **好感度系統**: 透過互動增進與寵物的感情

## 主要功能

### 🏠 寵物認養
- **指令**: `/adopt <寵物名字>`
- **功能**: 認養一隻獨特的虛擬寵物
- **特色**: 
  - 使用 Google Gemini AI 生成深度個性化的寵物特徵
  - 使用 Hugging Face AI 生成專屬的真實寵物頭像
  - 每個用戶只能認養一隻寵物
  - 寵物會有獨特的名字、個性和 AI 生成的專屬頭像
  - **自動創建專屬討論串**：寵物會有自己的小窩
  - 寵物會使用 Webhook 以自己的身份和頭像說話
  - **解鎖成就**: 認養寵物可獲得「寵物愛好者」成就，成功生成 AI 頭像可獲得「AI 寵物大師」成就

### 🏠 專屬討論串系統
- **功能**: 每隻寵物認養後會自動創建專屬討論串
- **名稱**: `🐾 [寵物名字] 的小窩`
- **用途**: 
  - 寵物的所有自主行為都在這裡發生
  - 私密的互動空間，不會干擾其他頻道
  - 更深度的主人-寵物關係培養
- **指令**: `/pet_thread` - 快速前往專屬討論串

### 🌟 炫耀系統
- **指令**: `/show_off_pet`
- **功能**: 在公共頻道展示你和寵物的感情
- **顯示內容**:
  - 寵物基本資訊和個性
  - 好感度和關係狀態
  - 相處天數和特殊成就
  - 寵物的炫耀回應（使用 Webhook）

### 📊 寵物狀態
- **指令**: `/pet_status`
- **功能**: 查看寵物的詳細資訊
- **顯示內容**:
  - 寵物名字和個性描述
  - 目前好感度
  - 相處天數
  - 寵物對主人的情感狀態

### 🎮 互動遊戲

#### 玩球遊戲
- **指令**: `/play_ball`
- **玩法**: 選擇不同類型的球與寵物互動
- **獎勵**: 根據寵物心情獲得不同好感度
- **球類選項**: 🏀 🎾 🏐 ⚽

#### 餵食系統
- **指令**: `/feed_pet`
- **功能**: 給寵物餵食增加好感度
- **冷卻**: 每小時只能餵食一次
- **食物**: 隨機選擇各種美味食物
- **獎勵**: 每次餵食獲得 2-4 點好感度

### 🏆 排行榜系統
- **指令**: `/pet_ranking`
- **功能**: 查看好感度排行榜
- **顯示**: 
  - 前10名寵物主人
  - 寵物名字和好感度
  - 愛心等級顯示
  - 主人名稱

## 🎭 寵物自主行為

寵物會定時執行以下五種行為，**全部在專屬討論串中進行**，無需玩家操作。**所有行為都會使用 Webhook，讓寵物以自己的名稱和頭像發送訊息！**

### 1. 🎁 送禮行為 (3-8分鐘間隔)
- 寵物會去各種地方旅遊
- 帶回當地的特產或紀念品
- 分享旅途見聞
- **獎勵**: +1 好感度
- **特色**: 寵物會親自告訴你它的旅程

### 2. 😢 心情不好 (5-12分鐘間隔)
- 寵物偶爾會心情低落
- 需要主人的關心和安慰
- AI 生成各種心情不好的情境
- **特色**: 寵物會用委屈的語氣向你傾訴

### 3. 🗺️ 尋寶歷險 (4-10分鐘間隔)
- 寵物會外出探險尋找寶物
- 發現各種有趣的小物品
- 分享探險過程
- **獎勵**: +1 好感度
- **特色**: 寵物會興奮地告訴你發現了什麼

### 4. 😴 睡覺休息 (6-15分鐘間隔)
- 寵物會進入甜美的夢鄉
- 分享有趣的夢境內容
- 展現寵物可愛的一面
- **特色**: 寵物會用慵懶的語氣分享夢境

### 5. 💃 快樂舞蹈 (8-18分鐘間隔)
- 寵物心情好時會跳舞
- 展現各種舞蹈動作
- 表達對主人的愛意
- **獎勵**: +1 好感度
- **特色**: 寵物會開心地描述它的舞蹈

## 💖 好感度系統

### 好感度等級
- **0-4**: 😟 還不太熟
- **5-14**: 😐 普通
- **15-29**: 🙂 喜歡你
- **30-49**: 😊 很喜歡你  
- **50+**: 💕 非常愛你

### 獲得好感度的方式
- **玩球遊戲**: 0-2點 (根據寵物心情)
- **餵食寵物**: 2-4點 (每小時一次)
- **寵物送禮**: +1點 (自動)
- **寵物尋寶**: +1點 (自動)
- **寵物跳舞**: +1點 (自動)

## 🏅 排行榜整合

寵物好感度排行榜已整合到主排行榜系統中：
- 每5分鐘自動更新
- 顯示在指定的排行榜頻道
- 展示前3名最受愛戴的寵物

## 📁 技術架構

### 資料儲存
- **寵物資料**: `data/pets_data.json`
- **用戶資料**: `data/user_data.json` (同步好感度)

### AI 整合
- **模型**: Google Gemini 2.5 Flash
- **用途**: 
  - 生成寵物個性
  - 創建行為描述
  - 產生對話內容

### 定時系統
- 每30秒檢查一次定時事件
- 每種行為有獨立的隨機間隔
- 錯誤處理和自動重試

## 🔧 管理指令

### 開發者專用
- `?abandon_pet <user_id>`: 移除指定用戶的寵物 (僅限機器人擁有者)

## 🚀 使用流程

1. **認養寵物**: `/adopt 我的小貓咪`
   - 系統會自動創建專屬討論串 `🐾 我的小貓咪 的小窩`
   - 寵物會在討論串中打招呼
2. **查看狀態**: `/pet_status`
3. **互動遊戲**: `/play_ball` 或 `/feed_pet`
4. **前往小窩**: `/pet_thread` - 快速前往專屬討論串
5. **炫耀寵物**: `/show_off_pet` - 在公共頻道展示感情
6. **查看排名**: `/pet_ranking`
7. **等待驚喜**: 寵物會在專屬討論串中定時主動與你互動！

## 💡 設計特色

- **🏠 專屬空間**: 每隻寵物都有自己的討論串小窩
- **🌟 社交展示**: 可以在公共頻道炫耀寵物感情
- **AI 驅動**: 每隻寵物都有獨特的個性和行為
- **Webhook 互動**: 寵物以自己的名稱和頭像發送訊息，增強沉浸感
- **自主行為**: 寵物會主動與主人互動，彷彿有自己的生命
- **社交競爭**: 好感度排行榜增加競爭樂趣
- **持續養成**: 需要長期關愛和互動
- **豐富互動**: 多種互動方式保持新鮮感
- **個性化頭像**: 每隻寵物都有獨特的表情符號頭像

## 🎪 互動體驗

### Webhook 技術優勢
- 寵物會以自己的名字發送訊息
- 配備專屬的表情符號頭像
- 訊息看起來就像真正的寵物在說話
- 增強了角色扮演的沉浸感

## 🔑 環境變數需求

確保 `.env` 檔案中設定：
```
GEMINI_API_KEY=your_gemini_api_key_here
SCOREBOARD_CHANNEL_ID=your_scoreboard_channel_id_here
```

享受與你的虛擬寵物的美好時光吧！ 🐾💕
